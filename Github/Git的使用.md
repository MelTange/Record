# Git的使用教程

## 克隆 GitHub 上的仓库到本地

1. 使用 git clone + [仓库地址] 命令即可，这是标准的克隆仓库命令。
> 仓库主目录中有个 .git 隐藏目录，它里面包含了仓库的全部信息，删掉这个目录，仓库就变成普通的目录了。
> 当我们在 GitHub 上创建一个仓库时，同时生成了仓库的默认主机名 origin，并创建了默认分支 master。GitHub 可以看成是免费的 Git 服务器，在 GitHub 上创建仓库，会自动生成一个仓库地址，主机就是指代这个仓库，主机名就等于这个仓库地址。克隆一个 GitHub 仓库（也叫远程仓库）到本地，本地仓库则会自动关联到这个远程仓库，执行 git remote -v 命令可以查看本地仓库所关联的远程仓库信息。

## 一次完整的修改、提交、推送操作

1. 进入仓库主目录，执行 git status 查看整个仓库的状态
2. git add [文件名] 命令跟踪此新建文件，即把新增文件添加到暂存区，以备提交。
3. 如果对多个文件或目录进行了增删改，可以使用 git add . 命令全部添加到暂存区。
4. git reset -- [文件名] 或者 git rm --cached [文件名] 
5. git reset -- 即可把暂存区的全部修改撤销
6. git diff，它可以用来查看工作区被跟踪的文件的修改详情。
7. 使用 git diff --cached 查看暂存区的全部修改
8. 将执行 git commit 命令把暂存区的修改提交到版本区，生成一个新的版本。
9. git log，它用来查看版本区的提交历史记录，当前只有一个提交，就是在 GitHub 上创建新仓库时的初始化提交。
> 
    git log [分支名] 查看某分支的提交历史，不写分支名查看当前所在分支
    git log --oneline 一行显示提交历史
    git log -n 其中 n 是数字，查看最近 n 个提交
    git log --author [贡献者名字] 查看指定贡献者的提交记录
    git log --graph 图示法显示提交历史

10. **配置个人信息** 
> 
    user.email：写入你自己注册 GitHub 账号的邮箱
    user.name：你自己的 GitHub 账号名字
11. 提交暂存区的修改
> git commit 命令生成一个新的提交，一个必须的选项 -m 用来提供该提交的备注。
> git log --reverse 命令

12. git branch -avv，它用来查看全部分支信息。
13. **版本回退** 
> 执行 git reset --soft HEAD^ 撤销
> --soft 表示软退回，对应的还有 --hard 硬退回，后面会讲到，HEAD^ 表示撤销一次提交，HEAD^^ 表示撤销两次提交，撤销 n 次可以简写为 HEAD~n。
14. **处理 commit 时间线分叉**
> git status 和 git branch -avv 查看仓库状态和分支状态


### Git 分支管理 

1. git fetch，它的作用是将远程仓库的分支信息拉取到本地仓库，注意，仅仅是更新了本地的远程分支信息，也就是执行 git branch -avv 命令时，查看到的 remotes 开头的行的分支信息。
2. fetch 命令的作用是刷新保存在本地仓库的远程分支信息。
3. 此时若想使本地 master 分支的提交版本为最新，可以执行 git pull 命令来拉取远程分支到本地，pull 是拉取远程仓库的数据到本地，需要联网，而由于前面执行过 git fetch 命令，所以也可以执行 git rebase origin/master 命令来实现 “使本地 master 分支基于远程仓库的 master 分支”，rebase 命令在后面还会经常用到。
4. 创建新的本地分支
> git branch [分支名] 可以创建新的分支
    此命令创建新分支后并未切换到新分支，还是在 master 分支上。
> git checkout [分支名] 切换分支
> git checkout -b [分支名] 创建分支并切换到新分支
5. 将新分支中的提交推送至远程仓库
> git push [主机名] [本地分支名]:[远程分支名] 即可将本地分支推送到远程仓库的分支中，通常冒号前后的分支名是相同的，如果是相同的，可以省略 :[远程分支名]，如果远程分支不存在，会自动创建。
6. 本地分支跟踪远程分支 
> git branch -u [主机名/远程分支名] [本地分支名] 将本地分支与远程分支关联，或者说使本地分支跟踪远程分支。如果是设置当前所在分支跟踪远程分支，最后一个参数本地分支名可以省略不写。
> -u 选项是 --set-upstream 的缩写。
> git branch --unset-upstream [分支名] 即可撤销该分支对远程分支的跟踪，同样地，如果撤销当前所在的分支的跟踪，分支名可以省略不写。

**删除远程分支 **
> 删除远程分支，使用 git push [主机名] :[远程分支名] 
> 如果一次性删除多个，可以这样：git push [主机名] :[远程分支名] :[远程分支名] :[远程分支名] 。此命令的原理是将空分支推送到远程分支，结果自然就是远程分支被删除。
> 另一个删除远程分支的命令：git push [主机名] --delete [远程分支名]。

**本地分支的更名与删除**
> git branch -D [分支名] 删除本地分支，同样地，此命令也可以一次删除多个，将需要删除的分支名罗列在命令后面即可。
> 给本地分支改名 git branch -m [原分支名] [新分支名] ，若修改当前所在分支的名字，原分支名可以省略不写。